(this["webpackJsonptic-tac-toe-game"]=this["webpackJsonptic-tac-toe-game"]||[]).push([[0],[,,,function(e,t,n){e.exports={Panel:"control-pannel_Panel__16mjT",ResetButton:"control-pannel_ResetButton__2lnV1",Button:"control-pannel_Button__1X6w1",ActiveButton:"control-pannel_ActiveButton__qC4LL"}},function(e,t,n){e.exports={Bar:"info-bar_Bar__BxMy1",List:"info-bar_List__nCC7d",Button:"info-bar_Button__2HEhs"}},function(e,t,n){e.exports={Game:"game_Game__14uOY",Main:"game_Main__rWvlI",PlayField:"game_PlayField___tR_7"}},,,,,function(e,t,n){e.exports={Square:"square_Square__2ZfUl"}},function(e,t,n){e.exports={Board:"board_Board__EaV3U"}},function(e,t,n){e.exports={Block:"info-block_Block__1-tDp"}},,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(7),i=n.n(r),s=n(8),o=n(9),c=n(2),u=n(15),l=n(14),d=n(10),h=n.n(d),m=n(0);var b=function(e){var t=e.value,n=e.onClick;return Object(m.jsx)("div",{className:h.a.Square,onClick:n,children:t})},v=n(11),j=n.n(v);var f=function(e){var t=e.squares,n=e.onClick,a=t.map((function(e,a){return Object(m.jsx)(b,{value:t[a],onClick:function(){n(a)}},a)}));return Object(m.jsx)("div",{className:j.a.Board,children:a})},_=n(3),x=n.n(_),O="human",p="robot",k="X",y="O",B="Win",N="Next turn",g=[{name:O,label:"human"},{name:p,label:"robot"}],C=function(e){var t=e.activeGameMode,n=e.onChangeMode,a=g.map((function(e){var a=e.name,r=e.label;return Object(m.jsx)("button",{className:x.a.Button+(a===t?" ".concat(x.a.ActiveButton):""),onClick:function(){n(a)},children:r},a)}));return Object(m.jsx)("div",{className:x.a.Panel,children:a})},T=function(e){var t=e.onReset;return Object(m.jsx)("button",{className:x.a.ResetButton,onClick:t,children:"New game"})};var M=function(e){var t=e.activeGameMode,n=e.onChangeMode,a=e.onResetGame;return Object(m.jsxs)("div",{className:x.a.Panel,children:[Object(m.jsx)(T,{onReset:a}),Object(m.jsx)(C,{activeGameMode:t,onChangeMode:n})]})},G=n(4),q=n.n(G),P=function(e){var t=e.moves,n=e.onJumpTo,a=t.map((function(e,t){return Object(m.jsx)("li",{children:Object(m.jsxs)("button",{className:q.a.Button,onClick:function(){n(t)},children:[t," step"]})},t)}));return Object(m.jsx)("div",{className:q.a.Bar,children:Object(m.jsx)("ul",{className:q.a.List,children:a})})},R=n(12),S=n.n(R),H=function(e){var t=e.info;return Object(m.jsx)("div",{className:S.a.Block,children:t})},F=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]],J=F.length;function L(e,t){for(var n=0;n<J;n++)if(!F[n].some((function(n){return e[n]===t}))){var a=F[n].filter((function(t){return null===e[t]}));if(1===a.length)return a[0]}return null}var w=function(e,t,n){var a=L(e,n),r=L(e,t);return a||r||function(e){return e[4]?e.indexOf(null):4}(e)},A=n(13),I=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];var E=function(e){for(var t=0;t<I.length;t++){var n=Object(A.a)(I[t],3),a=n[0],r=n[1],i=n[2];if(e[a]&&e[a]===e[r]&&e[a]===e[i])return e[a]}return null},U="ticTacToe",V=localStorage.getItem(U),W=n(5),X=n.n(W),D=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).isNextTurnBlocked=!1,a.state=JSON.parse(V)||{history:a.initHistory(),stepNumber:0,isFirstPlayerTurn:!0,activeGameMode:O},a.boardClickHandler=a.handleClick.bind(Object(c.a)(a)),a.changeModeHandler=a.onChangeMode.bind(Object(c.a)(a)),a.resetGameHanddler=a.onResetGame.bind(Object(c.a)(a)),a}return Object(o.a)(n,[{key:"initHistory",value:function(){return[{squares:Array(9).fill(null)}]}},{key:"handleClick",value:function(e){if(!this.isNextTurnBlocked){var t=this.state.history.slice(0,this.state.stepNumber+1),n=t[t.length-1].squares.slice();E(n)||n[e]||(n[e]=this.state.isFirstPlayerTurn?k:y,this.setState({history:t.concat([{squares:n}]),stepNumber:t.length,isFirstPlayerTurn:!this.state.isFirstPlayerTurn}))}}},{key:"robotTurn",value:function(){var e=this,t=this.state.history;setTimeout((function(){e.isNextTurnBlocked=!1;var n=t[t.length-1].squares,a=w(n,y,k);e.handleClick(a)}),500)}},{key:"jumpTo",value:function(e){this.setState({stepNumber:e,isFirstPlayerTurn:e%2===0})}},{key:"onChangeMode",value:function(e){this.onResetGame(),this.setState({activeGameMode:e})}},{key:"onResetGame",value:function(){this.setState({history:this.initHistory(),stepNumber:0})}},{key:"render",value:function(){var e;e=JSON.stringify(this.state),localStorage.setItem(U,e);var t=this.state,n=t.activeGameMode,a=t.isFirstPlayerTurn,r=t.history,i=r[t.stepNumber],s=E(i.squares),o=s?"".concat(B," ").concat(s):"".concat(N,": ").concat(a?k:y);return s||n!==p||a||(this.isNextTurnBlocked=!0,this.robotTurn()),Object(m.jsxs)("div",{className:X.a.Game,children:[Object(m.jsx)(M,{activeGameMode:n,onChangeMode:this.changeModeHandler,onResetGame:this.resetGameHanddler}),Object(m.jsxs)("div",{className:X.a.Main,children:[Object(m.jsx)(P,{moves:r,onJumpTo:this.jumpTo.bind(this)}),Object(m.jsxs)("div",{className:X.a.PlayField,children:[Object(m.jsx)(H,{info:o}),Object(m.jsx)(f,{squares:i.squares,onClick:this.boardClickHandler})]})]})]})}}]),n}(a.Component);n(21);i.a.render(Object(m.jsx)(D,{}),document.getElementById("root"))}],[[22,1,2]]]);
//# sourceMappingURL=main.ea58d6b1.chunk.js.map